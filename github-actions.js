(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{69:function(s,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=i(a(3)),o=function(s){if(s&&s.__esModule)return s;var e={};if(null!=s)for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(s,a):{};t.get||t.set?Object.defineProperty(e,a,t):e[a]=s[a]}return e.default=s,e}(a(0));i(a(2)),i(a(108));function i(s){return s&&s.__esModule?s:{default:s}}function n(s,e,a,r){t||(t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=s&&s.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),e&&o)for(var n in o)void 0===e[n]&&(e[n]=o[n]);else e||(e=o||{});if(1===i)e.children=r;else if(i>1){for(var l=new Array(i),c=0;c<i;c++)l[c]=arguments[c+3];e.children=l}return{$$typeof:t,type:s,key:void 0===a?null:""+a,ref:null,props:e,_owner:null}}function l(s,e,a){return e in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}function c(){return(c=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(s[t]=a[t])}return s}).apply(this,arguments)}function d(s,e){if(null==s)return{};var a,t,r=function(s,e){if(null==s)return{};var a,t,r={},o=Object.keys(s);for(t=0;t<o.length;t++)a=o[t],e.indexOf(a)>=0||(r[a]=s[a]);return r}(s,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(t=0;t<o.length;t++)a=o[t],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(s,a)&&(r[a]=s[a])}return r}const h=s=>{let{to:e}=s,a=d(s,["to"]);return e.includes("http")?o.default.createElement("a",c({},s,{href:e})):("#"===e[0]&&(e=r.default.join("/auto/","pages/build-platforms/github-actions.html")+e),o.default.createElement("a",c({},a,{href:e,onClick:a=>{if(a.preventDefault(),"#"===s.to)return!1;const t=new URL(r.default.join(window.location.origin,e));window.history.pushState((s=>({href:s.href,pathname:s.pathname,hash:s.hash,query:s.query}))(t),null,e),s.onClick();const o=new CustomEvent("changeLocation",{detail:t});return dispatchEvent(o),!1}})))};h.defaultProps={href:"",onClick:()=>{}};const p=s=>{var e,a;return a=e=class extends o.default.Component{constructor(...s){super(...s),l(this,"state",{Comp:null})}componentDidMount(){!this.state.Comp&&this.props.shouldLoad&&s().then(s=>{this.setState({Comp:s.default})})}render(){const{Comp:s}=this.state;return s?o.default.createElement(s,this.props,this.props.children||null):null}},l(e,"defaultProps",{shouldLoad:!0}),a};p(()=>a.e(32).then(a.bind(null,109))),p(()=>a.e(32).then(a.bind(null,110)));var u=n("h1",{},void 0,"GitHub Actions"),m=n("p",{},void 0,"The following config declares the ",n("code",{},void 0,"release")," action that run on all branches. The job will either release:"),v=n("ul",{},void 0,n("li",{},void 0,"a new ",n("code",{},void 0,"latest")," version from ",n("code",{},void 0,"master")),n("li",{},void 0,"a ",n("code",{},void 0,"canary")," build from a pull request (only on the main fork and if your package manager plugin implements them)")),g=n("p",{},void 0,n("strong",{},void 0,n("code",{},void 0,".github/workflows/release.yml"))),b=n("article",{className:"message column is-warning"},void 0,n("div",{className:"message-body"},void 0,n("p",{},void 0,"You must use some sort of action that implements ",n("code",{},void 0,"skip ci")," functionality. Otherwise you will get stuck in a release loop!"))),f=n("pre",{},void 0,n("code",{className:"language-yaml"},void 0,n("span",{className:"hljs-attr"},void 0,"name:")," ",n("span",{className:"hljs-string"},void 0,"Release"),n("br",{}),n("br",{}),n("span",{className:"hljs-attr"},void 0,"on:")," ",n("span",{className:"hljs-string"},void 0,"[push]"),n("br",{}),n("br",{}),n("span",{className:"hljs-attr"},void 0,"jobs:"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"  release:"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"    runs-on:")," ",n("span",{className:"hljs-string"},void 0,"ubuntu-latest"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"    if:")," ",n("span",{className:"hljs-string"},void 0,"\"!contains(github.event.head_commit.message, 'ci skip') && !contains(github.event.head_commit.message, 'skip ci')\""),n("br",{}),n("span",{className:"hljs-attr"},void 0,"    steps:"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"      - uses:")," ",n("span",{className:"hljs-string"},void 0,"actions/checkout@v1"),n("br",{}),n("br",{}),n("span",{className:"hljs-attr"},void 0,"      - name:")," ",n("span",{className:"hljs-string"},void 0,"Prepare")," ",n("span",{className:"hljs-string"},void 0,"repository"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"        env:"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"          GH_TOKEN:")," ",n("span",{className:"hljs-string"},void 0,"${{")," ",n("span",{className:"hljs-string"},void 0,"secrets.GH_TOKEN")," ",n("span",{className:"hljs-string"},void 0,"}}"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"        run:")," ",n("span",{className:"hljs-string"},void 0,"|",n("br",{}),"          git checkout ${GITHUB_REF:11} --",n("br",{}),"          git remote rm origin",n("br",{}),'          git remote add origin "https://x-access-token:$GH_TOKEN@github.com/<owner>/<repo>.git"',n("br",{}),"          git fetch origin --tags",n("br",{}),"          git branch --set-upstream-to origin/${GITHUB_REF:11} ${GITHUB_REF:11}",n("br",{}),n("br",{})),n("span",{className:"hljs-attr"},void 0,"      - name:")," ",n("span",{className:"hljs-string"},void 0,"Use")," ",n("span",{className:"hljs-string"},void 0,"Node.js")," ",n("span",{className:"hljs-number"},void 0,"12."),n("span",{className:"hljs-string"},void 0,"x"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"        uses:")," ",n("span",{className:"hljs-string"},void 0,"actions/setup-node@v1"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"        with:"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"          node-version:")," ",n("span",{className:"hljs-number"},void 0,"12."),n("span",{className:"hljs-string"},void 0,"x"),n("br",{}),n("br",{}),n("span",{className:"hljs-attr"},void 0,"      - name:")," ",n("span",{className:"hljs-string"},void 0,"Cache")," ",n("span",{className:"hljs-string"},void 0,"node")," ",n("span",{className:"hljs-string"},void 0,"modules"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"        uses:")," ",n("span",{className:"hljs-string"},void 0,"actions/cache@v1"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"        with:"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"          path:")," ",n("span",{className:"hljs-string"},void 0,"node_modules"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"          key:")," ",n("span",{className:"hljs-string"},void 0,"yarn-deps-${{")," ",n("span",{className:"hljs-string"},void 0,"hashFiles('yarn.lock')")," ",n("span",{className:"hljs-string"},void 0,"}}"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"          restore-keys:")," ",n("span",{className:"hljs-string"},void 0,"|",n("br",{}),"            yarn-deps-$",n("span",{className:"hljs-template-variable"},void 0,"{{ hashFiles('yarn.lock') }}"),n("br",{}),n("br",{})),n("span",{className:"hljs-attr"},void 0,"      - name:")," ",n("span",{className:"hljs-string"},void 0,"Create")," ",n("span",{className:"hljs-string"},void 0,"Release"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"        env:"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"          GH_TOKEN:")," ",n("span",{className:"hljs-string"},void 0,"${{")," ",n("span",{className:"hljs-string"},void 0,"secrets.GH_TOKEN")," ",n("span",{className:"hljs-string"},void 0,"}}"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"          NPM_TOKEN:")," ",n("span",{className:"hljs-string"},void 0,"${{")," ",n("span",{className:"hljs-string"},void 0,"secrets.NPM_TOKEN")," ",n("span",{className:"hljs-string"},void 0,"}}"),n("br",{}),n("span",{className:"hljs-attr"},void 0,"        run:")," ",n("span",{className:"hljs-string"},void 0,"|",n("br",{}),"          yarn install --frozen-lockfile",n("br",{}),"          yarn build",n("br",{}),"          npx auto shipit",n("br",{})))),N=n("p",{},void 0,"If you are having problems make sure you have done the following:"),j=n("ul",{},void 0,n("li",{},void 0,"Any required secrets for plugins are set (Ex; ",n("code",{},void 0,"NPM_TOKEN")," with the NPM plugin)"),n("li",{},void 0,"Make sure you give the ",n("code",{},void 0,"GH_TOKEN")," ",n("code",{},void 0,"repo")," permission or ",n("code",{},void 0,"shipit")," will fail!"),n("li",{},void 0,"Update references of ",n("code",{},void 0,"<your-github-user>"),", ",n("code",{},void 0,"<project-owner>"),", and ",n("code",{},void 0,"<project-repo>")," with the appropriate values")),y=n("p",{},void 0,"To add a secret for actions go to ",n("code",{},void 0,"https://github.com/<owner>/<repo>/settings/secrets/new")),w=n("code",{},void 0,"create-check"),k=n("code",{},void 0,"octokit-cli");var O=s=>n("div",{className:s.className},void 0,n("section",{},void 0,u,m,v,g,b,f,n("h2",{id:"troubleshooting"},void 0,"Troubleshooting ",n(h,{currentPage:s.currentPage,className:"fas fa-hashtag headerLink",to:"#troubleshooting","aria-hidden":"true"})),N,j,y,n("h2",{id:"examples"},void 0,"Examples ",n(h,{currentPage:s.currentPage,className:"fas fa-hashtag headerLink",to:"#examples","aria-hidden":"true"})),n("ul",{},void 0,n("li",{},void 0,n(h,{currentPage:s.currentPage,target:"_blank",to:"https://github.com/hipstersmoothie/create-check/blob/master/.github/workflows/push.yml",className:"external-link"},void 0,w)),n("li",{},void 0,n(h,{currentPage:s.currentPage,target:"_blank",to:"https://github.com/hipstersmoothie/octokit-cli/blob/master/.github/workflows/push.yml",className:"external-link"},void 0,k)))));e.default=O,s.exports=e.default}}]);
//# sourceMappingURL=github-actions.js.map